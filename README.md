# wuliji_seckill
商城秒杀系统

项目框架：SpringBoot+Thymeleaf+Mybatis(Druid)+Redis+RabbitMQ

0.生成jar部署服务器

1.利用JMter生成测试计划，模拟并发建立5000用户和对应token，对秒杀方法进行压测处理，5000线程数，循环测5次（QPS:1300）

2.添加商品列表页面缓存与用户对象缓存后，进行压力测试（QPS:2880）

3.两次MD5加密安全处理，JSR303参数检验+全局异常处理，建立数据库唯一索引防止单用户多次秒杀。

4.用rabbit进行异步下单：先将商品数量放入Redis中（做系统初始化处理），每次请求从Redis中获取商品数量，在获取用户秒杀是否已经秒杀。将用户信息和商品id封装，用MQ发送消息，进行数据库更新。返回状态秒杀中，再通过前端轮询的方式，进行秒杀结果查询，根据-1（秒杀失败）0（秒杀中）订单Id（秒杀成功）进行相应的处理。

5.接口防刷：点击按钮将用户信息和商品id生成一串校验码，再进行商品秒杀地址校验进行秒杀处理。

6.数学公式验证码：秒杀之前生成图形验证码，分散用户请求，缓解服务端压力，防止机器人。

7.对接口进行限流处理：定义注解方式+拦截器实现。注解实现延迟点击，最大点击数，用户是否登录。在拦截器中定义一个ThreadLocal存储user信息，进行注解参数判断，做出相应处理。


